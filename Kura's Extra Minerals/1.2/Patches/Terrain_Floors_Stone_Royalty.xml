<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <!-- Removes fine stone tiles based on a def from Royalty to prevent errors 
  when Royalty is not installed -->

<Operation Class="PatchOperationFindMod">
    <mods>
        <li>[WD] Expanded Floors</li>
    </mods>
    <match Class="PatchOperationSequence">
        <success>Always</success>
	<operations>
	<li Class="PatchOperationFindMod">
		<mods>
			<li>Royalty</li>
		</mods>
		<nomatch Class="PatchOperationSequence">
		<operations>				
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileAndesite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileAnorthosite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileBasalt"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileBlueschist"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileChalk"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileCharnockite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileCreoleMarble"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileDacite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileDunite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileEmperadordark"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileEtowahMarble"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileGabbro"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileGreenSchist"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileJaspillite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileLepidolite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileLherzolite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileLignite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileMigmatite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileMonzonite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileObsidian"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileRhyolite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileScoria"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileSerpentinite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileSiltstone"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileSovite"]</xpath>
			</li>
			<li Class="PatchOperationRemove">		
				<xpath>/Defs/TerrainDef[defName = "FineTileThometzekite"]</xpath>
			</li>
		</operations>		
		</nomatch>
	</li>  
	</operations>
</match>
</Operation>
</Patch>

